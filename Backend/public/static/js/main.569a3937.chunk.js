(this.webpackJsonpex=this.webpackJsonpex||[]).push([[0],{36:function(e,a,t){e.exports=t(66)},45:function(e,a,t){},64:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(14),c=t.n(o),r=t(8),i=t(9),s=t(33),u=t(34),m=t.n(u),E=t(10),d={isLoggedIn:!1,token:null,userdetails:null},g=Object(i.c)({Auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return Object(E.a)(Object(E.a)({},e),{},{isLoggedIn:!0,token:a.token,userdetails:a.userdetails});case"LOGOUT":return Object(E.a)(Object(E.a)({},e),{},{isLoggedIn:!1,token:null,userdetails:null});case"SET_USER_DETAILS":return Object(E.a)(Object(E.a)({},e),{},{userdetails:a.payload});default:return e}}}),h=[s.a,m.a],f=Object(i.d)(g,{},i.a.apply(void 0,h)),p=(t(45),t(16)),b=t(2),v=t(17);var O=Object(r.b)((function(e){return{Auth:e.Auth}}),{})((function(e){var a=e.children,t=e.Auth,n=Object(v.a)(e,["children","Auth"]);return console.log(t.isLoggedIn),l.a.createElement(b.b,Object.assign({},n,{render:function(){return t.isLoggedIn?a:l.a.createElement(b.a,{to:{pathname:"/"}})}}))})),S=t(35),N={BASE_LOCAL_URL:"http://localhost:3000",BASE_SERVER_URL:"http://localhost:7000",GET_USER_DETAILS:"/apis/v1/userdetails",LOGIN:"/api/login",REGISTER:"/api/signup"},j=t.n(S).a.create({baseURL:N.BASE_SERVER_URL}),y=function(e,a){return j.defaults.headers.common.Authorization="Bearer "+e,localStorage.setItem("Token",e),{type:"LOGIN",token:e,userdetails:a}},k=function(){return localStorage.removeItem("Token"),{type:"LOGOUT"}},I=function(e){return{type:"SET_USER_DETAILS",payload:e}};var L=function(){return l.a.createElement("div",null,"Dashboard")};var w=Object(r.b)((function(e){return{Auth:e.Auth}}),{})((function(e){var a=e.children,t=e.Auth,n=Object(v.a)(e,["children","Auth"]);return console.log(n.config),l.a.createElement(b.b,Object.assign({},n,{render:function(e){e.location;return t.isLoggedIn?l.a.createElement(b.a,{to:{pathname:"/dashboard"}}):a}}))})),A=t(12);t(64);var R=Object(r.b)((function(e){return{Auth:e.Auth}}),{login:y,logout:k,setUserDetails:I})((function(e){var a=Object(n.useState)(!1),t=Object(A.a)(a,2),o=t[0],c=t[1],r=Object(n.useState)(""),i=Object(A.a)(r,2),s=i[0],u=i[1],m=Object(n.useState)(""),E=Object(A.a)(m,2),d=E[0],g=E[1],h=Object(n.useState)(""),f=Object(A.a)(h,2),p=f[0],b=f[1],v=Object(n.useState)("login"),O=Object(A.a)(v,2),S=O[0],y=O[1],k=function(){c(!o)},I=function(a){a.preventDefault(),"login"===S?j.post(N.LOGIN,{email:d,password:p}).then((function(a){e.login(a.data.token)})).catch((function(e){console.log(e)})):j.post(N.REGISTER,{username:s,email:d,password:p}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))};return l.a.createElement("div",{className:"container-wrapper"},l.a.createElement("div",{className:"container ".concat(o?"right-active-panel":""),id:"container"},l.a.createElement("div",{className:"form-container sign-up-container"},l.a.createElement("form",{onSubmit:I},l.a.createElement("h1",null,"Create Account"),l.a.createElement("div",{className:"social-container"},l.a.createElement("a",{href:"/",className:"social"},l.a.createElement("i",{className:"fab fa-facebook-f"})),l.a.createElement("a",{href:"/",className:"social"},l.a.createElement("i",{className:"fab fa-google-plus-g"})),l.a.createElement("a",{href:"/",className:"social"},l.a.createElement("i",{className:"fab fa-linkedin-in"}))),l.a.createElement("span",null,"or use your email for registration"),l.a.createElement("input",{type:"text",placeholder:"Name",onChange:function(e){u(e.target.value)}}),l.a.createElement("input",{type:"email",placeholder:"Email",onChange:function(e){g(e.target.value)}}),l.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(e){b(e.target.value)}}),l.a.createElement("button",{onClick:function(){y("signup")}},"Sign Up"))),l.a.createElement("div",{className:"form-container sign-in-container"},l.a.createElement("form",{onSubmit:I},l.a.createElement("h1",null,"Sign in"),l.a.createElement("div",{className:"social-container"},l.a.createElement("a",{href:"/",className:"social"},l.a.createElement("i",{className:"fab fa-facebook-f"})),l.a.createElement("a",{href:"/",className:"social"},l.a.createElement("i",{className:"fab fa-google-plus-g"})),l.a.createElement("a",{href:"/",className:"social"},l.a.createElement("i",{className:"fab fa-linkedin-in"}))),l.a.createElement("span",null,"or use your account"),l.a.createElement("input",{type:"email",placeholder:"Email",onChange:function(e){g(e.target.value)}}),l.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(e){b(e.target.value)}}),l.a.createElement("a",{href:"/"},"Forgot your password?"),l.a.createElement("button",{onClick:function(){y("login")}},"Sign In"))),l.a.createElement("div",{className:"overlay-container"},l.a.createElement("div",{className:"overlay"},l.a.createElement("div",{className:"overlay-panel overlay-left"},l.a.createElement("h1",null,"Welcome Back!"),l.a.createElement("p",null,"To keep connected with us please login with your personal info"),l.a.createElement("button",{className:"ghost",id:"signIn",onClick:k},"Sign In")),l.a.createElement("div",{className:"overlay-panel overlay-right"},l.a.createElement("h1",null,"Hello, Friend!"),l.a.createElement("p",null,"Enter your personal details and start journey with us"),l.a.createElement("button",{className:"ghost",id:"signUp",onClick:k},"Sign Up"))))))}));t(65);var T=Object(r.b)((function(e){}),{login:y,logout:k,setUserDetails:I})((function(e){var a=localStorage.getItem("Token");return a&&"null"!==a&&"undefined"!==a&&e.login(a),l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,null,l.a.createElement(b.d,null,l.a.createElement(w,{path:"/",exact:!0},l.a.createElement(R,null)),l.a.createElement(O,{path:"/dashboard",exact:!0},l.a.createElement(L,null)))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(r.a,{store:f},l.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.569a3937.chunk.js.map